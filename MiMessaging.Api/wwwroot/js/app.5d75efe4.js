(function(e){function t(t){for(var r,a,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)a=o[u],s[a]&&d.push(s[a][0]),s[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);v&&v(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({newconversation:"newconversation",user:"user"}[e]||e)+"."+{newconversation:"1244861f",user:"aa4b4602"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={newconversation:1,user:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise(function(t,n){for(var r="css/"+({newconversation:"newconversation",user:"user"}[e]||e)+"."+{newconversation:"b8ef205a",user:"b3a95217"}[e]+".css",s=c.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===s))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===r||u===s)return t()}var v=document.createElement("link");v.rel="stylesheet",v.type="text/css",v.onload=t,v.onerror=function(t){var r=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.request=r,delete a[e],v.parentNode.removeChild(v),n(i)},v.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(v)}).then(function(){a[e]=0}));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=s[e]=[t,n]});t.push(r[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e),l=function(t){u.onerror=u.onload=null,clearTimeout(d);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");i.type=r,i.request=a,n[1](i)}s[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var v=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("1356"),a=n.n(r);a.a},1356:function(e,t,n){},"28c2":function(e,t,n){"use strict";var r=n("850c"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("db4d");var r=n("2b0e"),a=n("bb71");n("da64");r["a"].use(a["a"],{iconfont:"md"});var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"ms"}},[r("v-navigation-drawer",{staticClass:"grey lighten-4",attrs:{fixed:"",clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("v-list",{attrs:{dense:""}},[e._l(e.items,function(t,n){return[t.heading?r("v-layout",{key:n,attrs:{row:"","align-center":""}},[t.heading?r("v-subheader",[e._v("\n            "+e._s(t.heading)+"\n          ")]):e._e()],1):t.divider?r("v-divider",{key:n,staticClass:"my-3",attrs:{dark:""}}):t.subdivider?r("v-divider",{key:n,attrs:{dark:""}}):r("v-list-tile",{key:n,attrs:{to:t.url}},[r("v-list-tile-action",[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-tile-content",[r("v-list-tile-title",[e._v("\n              "+e._s(t.text)+"\n            ")])],1)],1)]})],2)],1),r("v-toolbar",{attrs:{dark:"",color:"primary",app:"","clipped-left":""}},[r("v-toolbar-side-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),r("router-link",{attrs:{to:"/conversations/new",tag:"a"}},[r("img",{staticClass:"ml-3",attrs:{src:n("cf05"),height:"35",width:"35"}}),r("span",{staticClass:"title ml-3 hidden-sm-and-down",attrs:{id:"appTitle"}},[e._v("Medische inbox")])]),r("v-text-field",{staticClass:"ml-5",attrs:{color:"orange","solo-inverted":"",flat:"","hide-details":"",label:"Zoeken","prepend-inner-icon":"search"}}),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{flat:"",to:"/user/"+e.currentUser.id}},[r("v-icon",{staticClass:"mr-2"},[e._v("person")]),r("span",{staticClass:"hidden-xs-only"},[e._v("\n          "+e._s(e.currentUser.firstName)+" "+e._s(e.currentUser.lastName)+"\n        ")])],1)],1)],1),r("router-view")],1)},i=[],o={data:function(){return{drawer:null,items:[{icon:"add",text:"Nieuw vraag stellen",url:"/conversations/add"},{divider:!0},{heading:"Postvakken"},{icon:"announcement",text:"Nieuwe vragen",url:"/conversations/new"},{icon:"question_answer",text:"In behandeling",url:"/conversations/inprogress"},{icon:"archive",text:"Archief",url:"/conversations/archived"},{subdivider:!0},{icon:"all_inbox",text:"Alle vragen",url:"/conversations/all"}]}},computed:{currentUser:function(){return this.$store.state.currentUser}}},c=o,l=(n("034f"),n("2877")),u=n("6544"),d=n.n(u),v=n("7496"),f=n("8336"),p=n("ce7e"),h=n("132d"),m=n("a722"),g=n("8860"),b=n("ba95"),y=n("40fe"),w=n("5d23"),_=n("f774"),V=n("9910"),x=n("e0c7"),E=n("2677"),O=n("71d9"),C=n("2a7f"),T=n("706c"),S=Object(l["a"])(c,s,i,!1,null,null,null),L=S.exports;d()(S,{VApp:v["a"],VBtn:f["a"],VDivider:p["a"],VIcon:h["a"],VLayout:m["a"],VList:g["a"],VListTile:b["a"],VListTileAction:y["a"],VListTileContent:w["a"],VListTileTitle:w["c"],VNavigationDrawer:_["a"],VSpacer:V["a"],VSubheader:x["a"],VTextField:E["a"],VToolbar:O["a"],VToolbarItems:C["a"],VToolbarSideIcon:T["a"]});var N=n("8c4f"),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main"},[n("v-content",[n("v-container",{directives:[{name:"show",rawName:"v-show",value:e.isLoading,expression:"isLoading"}],attrs:{bg:"","fill-height":"","grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary",id:"main-spinner"}})],1)],1)],1),n("v-list",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],attrs:{"two-line":""}},e._l(e.conversationList,function(e){return n("conversation-list-item",{key:e.id,attrs:{conversation:e}})}),1),n("v-expand-transition",[n("router-view")],1)],1)],1)},A=[],U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-list-tile",{on:{click:function(t){e.showConversation=!e.showConversation}}},[n("v-list-tile-content",[n("v-list-tile-title",[n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.conversation.title))]),n("span",{staticClass:"grey--text text--darken-1 font-weight-light font-italic"},[e._v(" "+e._s(e.conversation.internalReference))])]),n("v-list-tile-sub-title",[e._v("\n        "+e._s(e.getFullUserName(e.getLastMessage(e.conversation.messages).sentBy))+"\n         — \n        "),n("span",{staticClass:"grey--text"},[e._v(e._s(e.getLastMessage(e.conversation.messages).body))])])],1)],1),n("v-expand-transition",[n("conversation",{directives:[{name:"show",rawName:"v-show",value:e.showConversation,expression:"showConversation"}],attrs:{conversation:e.conversation}})],1),n("v-divider")],1)},k=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"blue lighten-5",flat:""}},[n("v-container",{attrs:{id:"messagesList","grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.conversation.messages,function(e){return n("conversation-message",{key:e.id,attrs:{message:e}})}),n("v-expand-transition",[n("v-flex",{directives:[{name:"show",rawName:"v-show",value:e.replyFieldVisible,expression:"replyFieldVisible"}],attrs:{xs12:"",id:"replyFieldFlex"}},[n("v-textarea",{attrs:{id:"replyField",label:"Reactie","hide-details":"",solo:""},model:{value:e.replyBody,callback:function(t){e.replyBody=t},expression:"replyBody"}})],1)],1)],2)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.replyFieldVisible,expression:"replyFieldVisible"}],attrs:{flat:"",color:"grey"},on:{click:function(t){e.replyFieldVisible=!e.replyFieldVisible}}},[e._v("\n      Annuleren\n    ")]),n("v-btn",{attrs:{dark:"",color:"orange"},on:{click:function(t){return e.addReply(e.replyBody)}}},[e._v("\n      "+e._s(e.replyAction)+"\n    ")])],1)],1)},F=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.message.sentBy===e.currentUserId?n("v-flex",{attrs:{xs11:"","offset-xs1":""}},[n("v-card",{attrs:{color:"accent"}},[n("v-card-title",{attrs:{"primary-title":""}},[e._v("\n      "+e._s(e.message.body)+"\n    ")])],1)],1):n("v-flex",{attrs:{xs11:""}},[n("v-card",{staticClass:"lighten-2"},[n("v-card-title",{attrs:{"primary-title":""}},[e._v("\n      "+e._s(e.message.body)+"\n    ")])],1)],1)},D=[],B={props:{message:Object},computed:{currentUserId:function(){return this.$store.state.currentUser.id}}},M=B,$=n("b0af"),P=n("12b2"),Y=n("0e8f"),q=Object(l["a"])(M,j,D,!1,null,null,null),J=q.exports;d()(q,{VCard:$["a"],VCardTitle:P["a"],VFlex:Y["a"]});var H={data:function(){return{replyFieldVisible:!1,replyBody:""}},props:{conversation:Object},components:{ConversationMessage:J},computed:{replyAction:function(){return this.replyFieldVisible?"Versturen":"Reageren"},currentUser:function(){return this.$store.state.currentUser}},methods:{addReply:function(e){if(this.replyFieldVisible){var t={conversationId:this.conversation.id,body:e,sentOn:new Date,sentBy:this.currentUser.id};this.$store.dispatch("addMessage",t),this.replyBody="",this.replyFieldVisible=!this.replyFieldVisible}else this.replyFieldVisible=!this.replyFieldVisible}}},X=H,Z=(n("28c2"),n("99d9")),z=n("a523"),G=n("0789"),K=n("a844"),Q=Object(l["a"])(X,I,F,!1,null,"36193270",null),W=Q.exports;d()(Q,{VBtn:f["a"],VCard:$["a"],VCardActions:Z["a"],VContainer:z["a"],VExpandTransition:G["a"],VFlex:Y["a"],VLayout:m["a"],VSpacer:V["a"],VTextarea:K["a"]});var ee={data:function(){return{showConversation:!1}},props:{conversation:Object},components:{Conversation:W},methods:{getLastMessage:function(e){return e[e.length-1]},getFullUserName:function(e){var t=this.$store.getters.USER_BY_ID(e);return"".concat(t.firstName," ").concat(t.lastName)}}},te=ee,ne=Object(l["a"])(te,U,k,!1,null,null,null),re=ne.exports;d()(ne,{VDivider:p["a"],VExpandTransition:G["a"],VListTile:b["a"],VListTileContent:w["a"],VListTileSubTitle:w["b"],VListTileTitle:w["c"]});var ae={data:function(){return{isLoading:!0}},components:{ConversationListItem:re},mounted:function(){this.isLoading=!0,this.$store.dispatch("getUsers"),this.$store.dispatch("getConversations")},computed:{conversationList:function(){this.isLoading=!1;var e=this.$route.params.status;return void 0!==e&&""!==e&&"all"!==e?this.$store.getters.CONVERSATIONS_BY_STATUS(e):this.$store.getters.ALL_CONVERSATIONS},userList:function(){return this.$store.getters.ALL_USERS}}},se=ae,ie=(n("773b"),n("549c")),oe=n("490a"),ce=Object(l["a"])(se,R,A,!1,null,"c42f4ca2",null),le=ce.exports;d()(ce,{VContainer:z["a"],VContent:ie["a"],VExpandTransition:G["a"],VFlex:Y["a"],VLayout:m["a"],VList:g["a"],VProgressCircular:oe["a"]}),r["a"].use(N["a"]);var ue=new N["a"]({routes:[{path:"/conversations/new",name:"",component:le,children:[{path:"/conversations/add",name:"add",component:function(){return n.e("newconversation").then(n.bind(null,"a31b"))}},{path:"/conversations/:status"}]},{path:"/conversations",redirect:"/conversations/new"},{path:"/user/:id",name:"user",component:function(){return n.e("user").then(n.bind(null,"1511"))}}]}),de=(n("96cf"),n("3b8d")),ve=(n("20d6"),n("7514"),n("ac6a"),n("2f62")),fe=n("bc3a"),pe=n.n(fe);r["a"].use(ve["a"]);var he=pe.a.create({baseURL:"https://localhost:5001/api/",headers:{"Content-Type":"application/json;charset=UTF-8"}});function me(e){return e.startedOn=new Date(e.startedOn),e.messages.forEach(function(e){e.sentOn=new Date(e.sentOn)}),e}var ge=new ve["a"].Store({state:{conversations:[],statusFilter:"",users:[],currentUser:{id:"7fc5c7c1-864b-498d-93c7-08d676ea4453",firstName:"Handler",lastName:"User",outOfOffice:null}},getters:{ALL_CONVERSATIONS:function(e){return e.conversations},CONVERSATIONS_BY_STATUS:function(e){return function(t){return e.conversations.filter(function(e){return e.currentStatus.toLowerCase()===t.toLowerCase()})}},CONVERSATION_BY_ID:function(e){return function(t){return e.conversations.find(function(e){return e.id===t})}},ALL_USERS:function(e){return e.users},USER_BY_ID:function(e){return function(t){return e.users.find(function(e){return e.id===t})}},CURRENT_USER:function(e){return e.currentUser},SELECTED_EXPERT:function(e){return e.users.find(function(e){return"18b1d119-fdce-4b02-93c8-08d676ea4453"===e.id})}},mutations:{ADD_CONVERSATION:function(e,t){t=me(t),e.conversations.push(t)},REMOVE_CONVERSATION:function(e,t){var n=e.conversations.findIndex(function(e){return e.Id===t.Id});n>=0&&e.conversations.splice(n,1)},REMOVE_ALL_CONVERSATIONS:function(e){e.conversations=[]},ADD_USER:function(e,t){e.users.push(t)},REMOVE_ALL_USERS:function(e){e.users=[]},SET_STATUS_FILTER:function(e,t){e.statusFilter=t}},actions:{getConversations:function(){var e=Object(de["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:he.get("conversations").then(function(e){t.commit("REMOVE_ALL_CONVERSATIONS"),e.data.forEach(function(e){return t.commit("ADD_CONVERSATION",e)})}).catch().finally();case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),addConversation:function(){var e=Object(de["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:he.post("conversations",n).then(function(e){return t.commit("ADD_CONVERSATION",e.data)}).catch().finally();case 1:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),addMessage:function(){var e=Object(de["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:he.post("messages",n).then(function(){t.getters.CONVERSATION_BY_ID(n.conversationId).messages.push(n)}).catch().finally();case 1:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}(),getUsers:function(){var e=Object(de["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:he.get("users").then(function(e){t.commit("REMOVE_ALL_USERS"),e.data.forEach(function(e){return t.commit("ADD_USER",e)})}).catch().finally();case 1:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}});r["a"].config.productionTip=!1,new r["a"]({el:"#app",store:ge,router:ue,render:function(e){return e(L)}})},"773b":function(e,t,n){"use strict";var r=n("c373"),a=n.n(r);a.a},"850c":function(e,t,n){},c373:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.5d75efe4.js.map